# StyleStack Computed Typography Tokens
# Pre-calculated values for OOXML format requirements
# This file is generated from typography-modern.yaml with OOXML-specific conversions

$schema: "../../schemas/token.schema.yaml"

metadata:
  name: "Computed Typography Tokens"
  version: "1.0.0"
  description: "OOXML-ready typography values with unit conversions"
  generated_from: "typography-modern.yaml"
  last_computed: "2025-01-20"

# ============================================================================
# FONT DEFINITIONS WITH OOXML METADATA
# ============================================================================

fonts:
  primary:
    display:
      family:
        value: "Inter"
        type: "string"
        description: "Primary display/heading font"
        ooxml:
          powerpoint_attribute: "typeface"
          word_attribute: "w:ascii"
          excel_attribute: "val"
          
      weight:
        bold:
          value: 700
          type: "number"
          ooxml:
            powerpoint: "b='1'"
            word: "w:b='1'"
            excel: "b='1'"
            
    body:
      family:
        value: "Inter"
        type: "string" 
        description: "Primary body text font"
        ooxml:
          powerpoint_attribute: "typeface"
          word_attribute: "w:ascii"
          
    monospace:
      family:
        value: "JetBrains Mono"
        type: "string"
        description: "Monospace font for code"

# ============================================================================
# OOXML UNIT CONVERSIONS
# ============================================================================

# PowerPoint uses twentieths of a point (1 pt = 20 units)
powerpoint:
  font_sizes:
    hero:
      value: 1221              # 61.04pt * 20
      type: "number"
      unit: "twentieths_pt"
      original: "61.04pt"
      
    display:
      value: 977               # 48.83pt * 20  
      type: "number"
      unit: "twentieths_pt"
      original: "48.83pt"
      
    title:
      value: 781               # 39.06pt * 20
      type: "number"
      unit: "twentieths_pt"
      original: "39.06pt"
      
    subtitle:
      value: 625               # 31.25pt * 20
      type: "number"
      unit: "twentieths_pt"
      original: "31.25pt"
      
    large:
      value: 500               # 25pt * 20
      type: "number"
      unit: "twentieths_pt"
      original: "25pt"
      
    body:
      value: 400               # 20pt * 20
      type: "number"
      unit: "twentieths_pt"
      original: "20pt"
      
    base:
      value: 320               # 16pt * 20
      type: "number"
      unit: "twentieths_pt"
      original: "16pt"
      
    small:
      value: 256               # 12.8pt * 20
      type: "number"
      unit: "twentieths_pt"
      original: "12.8pt"
      
    caption:
      value: 205               # 10.24pt * 20
      type: "number"
      unit: "twentieths_pt"
      original: "10.24pt"

  # Kerning in twentieths of points  
  kerning:
    tight:
      value: -32               # -0.08em * 20pt * 20
      type: "number"
      unit: "twentieths_pt"
      description: "Tight kerning for AV, AW, AY pairs"
      
    moderate:
      value: -24               # -0.06em * 20pt * 20
      type: "number"
      unit: "twentieths_pt"
      description: "Moderate kerning"
      
    light:
      value: -16               # -0.04em * 20pt * 20
      type: "number"
      unit: "twentieths_pt"
      description: "Light kerning"
      
    normal:
      value: 0                 # No kerning adjustment
      type: "number"
      unit: "twentieths_pt"
      
    kern_enabled:
      value: 1200              # OOXML kerning enabled flag
      type: "number"
      description: "PowerPoint kerning enable value"

  # Line spacing as percentages
  line_spacing:
    tight:
      value: 120               # 120% = 1.2 leading
      type: "number"
      unit: "percentage"
      
    normal:
      value: 150               # 150% = 1.5 leading
      type: "number"  
      unit: "percentage"
      
    loose:
      value: 175               # 175% = 1.75 leading
      type: "number"
      unit: "percentage"

# Word uses half-points (1 pt = 2 units)
word:
  font_sizes:
    hero:
      value: 122               # 61.04pt * 2
      type: "number"
      unit: "half_points"
      original: "61.04pt"
      
    display:
      value: 98                # 48.83pt * 2
      type: "number"
      unit: "half_points"
      original: "48.83pt"
      
    heading1:
      value: 78                # 39.06pt * 2
      type: "number"
      unit: "half_points"
      original: "39.06pt"
      
    heading2:
      value: 63                # 31.25pt * 2
      type: "number"
      unit: "half_points"
      original: "31.25pt"
      
    heading3:
      value: 50                # 25pt * 2
      type: "number"
      unit: "half_points"
      original: "25pt"
      
    large:
      value: 40                # 20pt * 2
      type: "number"
      unit: "half_points"
      original: "20pt"
      
    body:
      value: 32                # 16pt * 2
      type: "number"
      unit: "half_points"
      original: "16pt"
      
    small:
      value: 26                # 12.8pt * 2
      type: "number"
      unit: "half_points"
      original: "12.8pt"
      
    caption:
      value: 20                # 10.24pt * 2
      type: "number"
      unit: "half_points"
      original: "10.24pt"

  # Line spacing in twips (1/20 point)
  line_spacing:
    tight:
      value: 288               # 1.2 * 12pt * 20 twips
      type: "number"
      unit: "twips"
      description: "Tight line spacing"
      
    normal:
      value: 360               # 1.5 * 12pt * 20 twips  
      type: "number"
      unit: "twips"
      description: "Normal line spacing"
      
    loose:
      value: 420               # 1.75 * 12pt * 20 twips
      type: "number"
      unit: "twips"
      description: "Loose line spacing"

  # Paragraph spacing in twips
  paragraph_spacing:
    before:
      small:
        value: 120             # 6pt * 20 twips
        type: "number"
        unit: "twips"
        
      normal:
        value: 160             # 8pt * 20 twips (0.5em at 16pt)
        type: "number"
        unit: "twips"
        
      large:
        value: 240             # 12pt * 20 twips
        type: "number"
        unit: "twips"
        
    after:
      small:
        value: 160             # 8pt * 20 twips
        type: "number"
        unit: "twips"
        
      normal:
        value: 240             # 12pt * 20 twips (0.75em at 16pt)
        type: "number"
        unit: "twips"
        
      large:
        value: 320             # 16pt * 20 twips
        type: "number"
        unit: "twips"

  # Character spacing (tracking) in twips
  character_spacing:
    tight:
      value: -20               # -1pt tracking
      type: "number"
      unit: "twips"
      
    normal:
      value: 0                 # No tracking
      type: "number"
      unit: "twips"
      
    loose:
      value: 20                # +1pt tracking
      type: "number"
      unit: "twips"
      
    all_caps:
      value: 32                # +1.6pt tracking for ALL CAPS
      type: "number"
      unit: "twips"

  # Kerning thresholds in half-points
  kerning:
    minimum_size:
      value: 24                # 12pt * 2 (minimum for kerning)
      type: "number"
      unit: "half_points"

# Excel uses points directly
excel:
  font_sizes:
    large_header:
      value: 14                # 14pt
      type: "number"
      unit: "points"
      
    header:
      value: 12                # 12pt
      type: "number"
      unit: "points"
      
    body:
      value: 11                # 11pt (Excel standard)
      type: "number"
      unit: "points"
      
    small:
      value: 9                 # 9pt
      type: "number"
      unit: "points"

# ============================================================================
# ADVANCED KERNING PAIRS WITH OOXML VALUES
# ============================================================================

kerning_pairs:
  # Values in twentieths of points for PowerPoint
  powerpoint:
    critical_pairs:
      "AV":
        value: -32             # -0.08em * 20pt * 20
        type: "number"
        unit: "twentieths_pt"
        
      "AW":
        value: -24             # -0.06em * 20pt * 20
        type: "number"
        unit: "twentieths_pt"
        
      "AY":
        value: -32             # -0.08em * 20pt * 20
        type: "number"
        unit: "twentieths_pt"
        
      "AT":
        value: -16             # -0.04em * 20pt * 20
        type: "number"
        unit: "twentieths_pt"
        
    punctuation_pairs:
      "T,":
        value: -24             # -0.06em * 20pt * 20
        type: "number"
        unit: "twentieths_pt"
        
      "T.":
        value: -24             # -0.06em * 20pt * 20
        type: "number"
        unit: "twentieths_pt"
        
      "P,":
        value: -16             # -0.04em * 20pt * 20
        type: "number"
        unit: "twentieths_pt"
        
      "P.":
        value: -16             # -0.04em * 20pt * 20
        type: "number"
        unit: "twentieths_pt"

# ============================================================================
# OPENTYPE FEATURE FLAGS
# ============================================================================

opentype_features:
  # Standard features (enabled by default)
  standard:
    kern:
      value: 1                 # Enable kerning
      type: "number"
      description: "Kerning enabled"
      
    liga:
      value: 1                 # Enable ligatures
      type: "number"
      description: "Standard ligatures enabled"
      
    calt:
      value: 1                 # Enable contextual alternates
      type: "number"
      description: "Contextual alternates enabled"
      
  # Optional features (disabled by default)
  optional:
    dlig:
      value: 0                 # Discretionary ligatures off
      type: "number"
      description: "Discretionary ligatures disabled"
      
    hlig:
      value: 0                 # Historical ligatures off
      type: "number"
      description: "Historical ligatures disabled"
      
    ss01:
      value: 0                 # Stylistic set 1 off
      type: "number"
      description: "Stylistic set 1 (rounded dots) disabled"

# ============================================================================
# ACCESSIBILITY COMPLIANCE VALUES
# ============================================================================

accessibility:
  contrast_ratios:
    aa_minimum:
      value: 4.5               # WCAG AA minimum
      type: "number"
      description: "Minimum contrast ratio for AA compliance"
      
    aaa_preferred:
      value: 7.0               # WCAG AAA preferred
      type: "number"
      description: "Preferred contrast ratio for AAA compliance"
      
  reading_comfort:
    optimal_line_length:
      value: 65                # Characters per line
      type: "number"
      unit: "characters"
      description: "Optimal line length for readability"
      
    minimum_line_height:
      value: 120               # 120% minimum
      type: "number"
      unit: "percentage"
      description: "Minimum line height for accessibility"

# ============================================================================
# SEMANTIC MAPPINGS
# ============================================================================

# Map semantic names to computed values for easy reference
semantic:
  powerpoint:
    slide_title:
      font_size: "{fonts.powerpoint.font_sizes.title.value}"
      font_family: "{fonts.primary.display.family.value}"
      kerning: "{fonts.powerpoint.kerning.kern_enabled.value}"
      line_spacing: "{fonts.powerpoint.line_spacing.tight.value}"
      
    slide_body:
      font_size: "{fonts.powerpoint.font_sizes.body.value}"
      font_family: "{fonts.primary.body.family.value}"
      line_spacing: "{fonts.powerpoint.line_spacing.normal.value}"
      
  word:
    heading1:
      font_size: "{fonts.word.font_sizes.heading1.value}"
      font_family: "{fonts.primary.display.family.value}"
      spacing_before: "{fonts.word.paragraph_spacing.before.large.value}"
      spacing_after: "{fonts.word.paragraph_spacing.after.normal.value}"
      
    body:
      font_size: "{fonts.word.font_sizes.body.value}"
      font_family: "{fonts.primary.body.family.value}"
      line_spacing: "{fonts.word.line_spacing.normal.value}"
      spacing_before: "{fonts.word.paragraph_spacing.before.normal.value}"
      spacing_after: "{fonts.word.paragraph_spacing.after.normal.value}"
      
  excel:
    header:
      font_size: "{fonts.excel.font_sizes.header.value}"
      font_family: "{fonts.primary.display.family.value}"
      bold: "{fonts.primary.display.weight.bold.value}"
      
    data:
      font_size: "{fonts.excel.font_sizes.body.value}"
      font_family: "{fonts.primary.body.family.value}"

# ============================================================================
# VALIDATION METADATA
# ============================================================================

validation:
  computed_at: "2025-01-20T12:00:00Z"
  source_file: "typography-modern.yaml"
  conversion_rules:
    - "PowerPoint: points × 20 = twentieths"
    - "Word: points × 2 = half-points"
    - "Word spacing: points × 20 = twips"
    - "Kerning: em × font_size × unit_multiplier"
    
  ranges:
    font_sizes:
      min_twentieths: 160      # 8pt minimum
      max_twentieths: 1440     # 72pt maximum
      
    kerning:
      min_twentieths: -80      # Maximum negative kerning
      max_twentieths: 40       # Maximum positive kerning